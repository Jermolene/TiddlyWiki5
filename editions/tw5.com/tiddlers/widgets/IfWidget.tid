caption: if
created: 20230822153600000
modified: 20230822170315584
tags: Widgets
title: IfWidget
type: text/vnd.tiddlywiki

! Introduction

<<.from-version "5.3.2">>

The `<$if>` widget determines its content depending upon the result of one or more [[filters|Filters]]. It must have a child widget named `<$then>`, and can optionally have child widgets named `<$elseif>` or `<$else>`.

<<.tip """The `<$then>`, `<$elseif>`, and/or `<$else>` widgets cannot be used on their own. They must be direct children of an `<$if>` widget, or they will be ignored.""">>

The content of the `<$if>` widget is determined by evaluating its filter, and the filters in any `<$elseif>` widgets it contains. The first filter to return a result (i.e., not an empty list) will determine the content of the `<$if>` widget, as follows.

* If the filter returns a non-empty result, the content of the `<$then>` widget will be displayed.
* Otherwise, the filters in any `<$elseif>` widgets will be evaluated. The first `<$elseif>` whose filter returns a non-empty result will have its contents displayed.
* If the `<$if>` widget still does not have any contents (all filters returned empty results), the content of the `<$else>` widget, if any, will be displayed.
* If all filters returned empty results and there is no `<$else>` widget, the `<$if>` widget will be empty.

<<.tip """The `<$if>` widget is ''short-circuiting'', so once the first filter returns a non-empty result, the rest of the elseif filters will ''not'' be evaluated.""">>

! Content and Attributes

The `<$if>` widget and its `<$elseif>` children can have the following attributes:

|!Attribute |!Description |
|filter |A filter to be evaluated |

The <<.attr filter>> attribute will treat an empty result as "false" and a non-empty result as "true" in a similar way to how the [[Conditional Operators]] work.

The `<$then>` and `<$else>` widgets have no attributes.

! Examples

!! Basic usage

<<wikitext-example-without-html '\define num() 2

<$if filter="[<num>compare:number:gt[3]]">
<$then><<num>> is greater than 3</$then>
<$else><<num>> is less than or equal to 3</$else>
</$if>'>>

Try editing this example to remove the `<$else>` widget; then the `<$if>` widget will be empty when the condition is false.

!! Usage with elseif

Note that multiple elseif widgets can be chained together. Also note the short-circuiting behaviour: the first condition to be true will end the evaluation. Any remaining `<$elseif>` and `<$else>` widgets will not be considered.

<<wikitext-example-without-html '\define num() 2

<$if filter="[<num>compare:number:gt[3]]">
<$then><<num>> is greater than 3</$then>
<$elseif filter="[<num>compare:number:gt[2]]"><<num>> is greater than 2</$elseif>
<$elseif filter="[<num>compare:number:gt[1]]"><<num>> is greater than 1</$elseif>
<$elseif filter="[<num>compare:number:gt[0]]"><<num>> is greater than 0</$elseif>
<$else><<num>> is negative or zero</$else>
</$if>'>>

Try editing this example to change the number and see what happens.

!! More advanced examples

See [[IfWidget (Examples)]] for more advanced examples
