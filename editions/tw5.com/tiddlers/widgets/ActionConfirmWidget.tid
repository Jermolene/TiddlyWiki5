caption: action-confirm
created: 20201115150255011
modified: 20230510113746463
tags: Widgets ActionWidgets
title: ActionConfirmWidget
type: text/vnd.tiddlywiki

! Introduction

<<.from-version "5.1.23">>The ''action-confirm'' widget is an [[action widget|ActionWidgets]] that prompts the user for confirmation and invokes other action widgets contained within it only if the user confirms. ActionWidgets are used within triggering widgets such as the ButtonWidget.

! Content and Attributes

The ''action-confirm'' widget is invisible. Any content within it is only processed if the user confirms the action, or the confirmation has been disabled by the `$prompt` attribute.

|!Attribute |!Description |
|$message |Optional message displayed to the user when asking for confirmation.|
|$prompt |Optional flag, set to "no" to disable the prompt for confirmation. Defaults to "yes" |

! Examples

Here is an example of a button that asks the user for confirmation, before deleting the caption and tags fields of the current tiddler. 

<$macrocall $name="wikitext-example-without-html"
src="""\define testActions()
<$action-confirm $message="Do you wish to show a notification?">
	<$action-sendmessage $message="tm-notify" $param="SampleNotification"/>
</$action-confirm>
\end

<$button actions=<<testActions>> >Show a Notification</$button>"""/>

Here is an example of a button that uses the optional `$prompt` attribute to control whether to prompt the user before executing the actions.

<$macrocall $name="wikitext-example-without-html"
src="""\define testActions()
<$action-confirm $message="Do you wish to show a notification?" $prompt={{$:/state/promptUser}}>
	<$action-sendmessage $message="tm-notify" $param="SampleNotification"/>
</$action-confirm>
\end

Show confirmation dialogue: <$edit-text tiddler="$:/state/promptUser" tag="input" default="yes" placeholder="yes / no" />

<$button actions=<<testActions>> >Show a Notification</$button>"""/>
